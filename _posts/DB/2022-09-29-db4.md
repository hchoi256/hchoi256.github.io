---
layout: single
title: "DBMS: Relational Model(ê´€ê³„ ëª¨ë¸)"
categories: DB
tag: [Database, Relation, Relational Model]
toc: true
toc_sticky: true
toc_label: "ì­ŒìŠ¤log"
#author_profile: false
header:
    teaser: /assets/images/posts/db.png
sidebar:
    nav: "docs"
---

# INTRO ğŸ™Œ
ì €ë²ˆ ì‹œê°„ì—ëŠ” ê´€ê³„ ëª¨ë¸ì— ëŒ€í•˜ì—¬ ì•Œì•„ë³´ì•˜ë‹¤.

ì´ë²ˆ ì‹œê°„ì—ëŠ” ìƒì„±í•œ **ER Diagramì„ Relation Model/Designìœ¼ë¡œ ë³€í™˜**í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì.

****
# ER Diagram ~ Rel. Design ë³€í™˜ âœ”
![image](https://user-images.githubusercontent.com/39285147/192873202-c9d2e9cd-c17f-40b1-a373-6835c61caa6f.png)

## ì¼ë°˜
### 1. Entity set E
![image](https://user-images.githubusercontent.com/39285147/192873287-6bc11847-0016-4a68-9bd9-08b1710172bc.png)

- ê·œì¹™: **Relation with attributes of E**

### 2. Relationship R
![image](https://user-images.githubusercontent.com/39285147/192873370-b1e5d56e-08ac-4ebb-9e22-b786b2b50fe5.png)

- ê·œì¹™: **Relation with attributes being keys of related entity sets + attributes of R**

ê°œì²´ì˜ ê¸°ë³¸í‚¤ ê°’ë“¤ì´ Relationì—ì„œ í•´ë‹¹ ê°œì²´ ì´ë¦„ì— í¬í•¨ëœë‹¤ (i.e., *Product-name*).

ê´€ê³„ì— ë¶™ì–´ìˆëŠ” ì†ì„±ì€ ê·¸ëŒ€ë¡œ í‘œí˜„ë˜ëŠ” ëª¨ìŠµì´ë‹¤ (i.e., *Start-year*).

ë˜ ë‹¤ë¥¸ ì˜ˆì‹œë¥¼ ì‚´í´ë³´ì.

![image](https://user-images.githubusercontent.com/39285147/192874934-2929f348-1be6-48c4-ad11-dc05344c847d.png)

ê°€ë ¹, ***Likes***'ë¼ëŠ” ê´€ê³„ëŠ” *Drinkers* ~ *Beers*ë¥¼ ì—°ê²°í•˜ê¸° ë•Œë¬¸ì—, 'Likes(drinker, beer)'ë¡œ ER Digramì—ì„œ í•´ë‹¹ ê´€ê³„ì— ëŒ€í•œ ê´€ê³„ ëª¨ë¸ì„ ì •ì˜í•˜ëŠ” ëª¨ìŠµì´ë‹¤.

## íŠ¹ìˆ˜
### 1. Many-one Relations
[*Relation Makes*]
![image](https://user-images.githubusercontent.com/39285147/192875955-8b599271-0848-46d8-9d91-b8d134cffc62.png)

*Makes*ëŠ” ì¼ëŒ€ë‹¤ ê´€ê³„, ì¦‰ Many(Products) ~ One(Company)ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.

ì´ ê²½ìš°, **Many(Product)ì— ì¢…ì†ëœ ì†ì„±**ë“¤ê³¼ **One(Company)ì˜ ê¸°ë³¸í‚¤ ê°’**ì„ ê°€ì§€ê³  ê´€ê³„ ëª¨ë¸ì„ ì„¤ê³„í•œë‹¤.

> ğŸ’£ **Risk with Many-Many Relationships**
>> ![image](https://user-images.githubusercontent.com/39285147/192877928-1bb728ff-100c-4eda-947a-9b4a50c355f7.png)
>> ë‹¤ëŒ€ë‹¤ ê´€ê³„ì—ì„œ, *Drinkers*ê³¼ *Likes* ì—°ê²° ì‹œ **Redundancy**ê°€ ë°œìƒí•˜ëŠ” ëª¨ìŠµì´ë‹¤.

### 2. Two Relations
***Drinkers**(name, addr)* + ***Favorite**(drinker, beer)* â˜ ***Drinker1**(name, addr, favoriteBeer)*

ì„œë¡œ ë‹¤ë¥¸ ë‘ ê´€ê³„ Drinkers, Favoriteê°€ í•˜ë‚˜ì˜ ê´€ê³„ Drinker1ë¡œ í•©ì³ì§€ëŠ” ëª¨ìŠµì´ë‹¤.

### 3. Weak entity sets
[*Relation Team*]

![image](https://user-images.githubusercontent.com/39285147/192878621-32d804bd-0d11-4891-a7b8-10065737bf54.png)

ê·œì¹™
- **ì•½í•œ ê°œì²´ *Team*ì˜ ëª¨ë“  ì†ì„±ì„ í¬í•¨**ì‹œì¼œì•¼ í•œë‹¤.
    - *complete key* ì†ì„±ë“¤ì„ ë°˜ë“œì‹œ ëª¨ë‘ í¬í•¨ì‹œí‚¨ë‹¤.
    - *ì•½í•œ ê´€ê³„(ì´ì¤‘ ë‹¤ì´ì•„ëª¬ë“œ)*ëŠ” ë¶ˆí•„ìš”í•˜ë©°, ê´€ê³„ë¥¼ ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.
- ìƒê¸° ER Diagramì—ì„œ, **ê´€ê³„ Affiliationì„ ìœ„í•œ ë³„ë„ì˜ ê´€ê³„ ëª¨ë¸ì€ í•„ìš”ì—†ë‹¤**.
    - ìƒê¸° ê´€ê³„ ëª¨ë¸ì€ *Team* ê°œì²´ ê´€ê³„ ëª¨í˜•ì´ë‹¤.

> **Complete Key**: í•œ ê°œì²´ ìŠ¤ìŠ¤ë¡œì— ì¢…ì†ëœ ì†ì„±, ì—°ê²°ëœ ë‹¤ë¥¸ ê°œì²´ì— ì¢…ì†ëœ ì†ì„±, í‚¤ê°€ ì—†ëŠ” ì†ì„± ë“± ëª¨ë“  ì¢…ë¥˜ì˜ ì†ì„±ë“¤ì„ ì¼ì»«ëŠ”ë‹¤.

### 4. is-a relationships(= subclasses)
![image](https://user-images.githubusercontent.com/39285147/192880781-1d2e2839-f54d-42fa-9867-52b13919b70e.png)

#### Option 1: the OO Approach
![image](https://user-images.githubusercontent.com/39285147/192905884-243d587b-e271-4210-8840-72b34a2dc085.png)

> **Object-oriented**
> Each entity belongs to exactly one class; create a relation for each class, with all its attributes.

ìƒê¸° ER Diagramë¡œë¶€í„° 4ê°œì˜ ì„œë¡œ ë‹¤ë¥¸ í…Œì´ë¸”ì´ ë§Œë“¤ì–´ì§ˆ ìˆ˜ ìˆë‹¤: **Product**, **EducationalProduct**, **SoftwareProduct**, ê·¸ë¦¬ê³  **EducationalSoftwareProduct**.

ê° í…Œì´ë¸”ë§ˆë‹¤ ì—°ê²°ëœ ì†ì„±ë“¤ë¡œ ê´€ê³„ ëª¨ë¸ì„ ì„¤ê³„í•´ë³´ì.

        Product(name, price, category, manufacturer)

        EducationalProduct(name, price, category, manufacturer, ageGroup, topic)

        SoftwareProduct(name, price, category, manufacturer, platforms, requiredMemory)

        EducationalSoftwareProduct(name, price, category, manufacturer,ageGroup, topic, platforms, requiredMemory)

**All *names* are distinct**

ì—¬ê¸°ì„œ ì£¼ëª©í•  ì ì€ í…Œì´ë¸”ë§ˆë‹¤ ì¡´ì¬í•˜ëŠ” ***name* ì†ì„±ì€ ì„œë¡œ ë‹¤ë¥¸ ê³ ìœ í•œ** ê°ì²´ë“¤ì´ë‹¤.

ì´ë¦„ì´ ìš°ì—°íˆ ê°™ì„ ìˆ˜ëŠ” ìˆì§€ë§Œ, ê·¸ë“¤ì€ ì—„ì—°íˆ ë‹¤ë¥¸ ê°œì²´ë“¤ì´ë‹¤.

![image](https://user-images.githubusercontent.com/39285147/192907756-3d81398e-ab68-4d39-bb84-9b339df8b28e.png)

O-O approach good for queries like â€œfind the color of ales made by Peteâ€™s.â€
- Just look in Ales relation

#### Option 2: the E/R Approach
![image](https://user-images.githubusercontent.com/39285147/192905967-fd840f95-bf30-424b-b7f1-484386fa4e59.png)

> **E/R style**
> Create one relation for each subclass, with only the key attribute(s) and attributes attached to that E.S.; entity represented in all relations to whose subclass/E.S. it belongs.

is-a hierarchy êµ¬ì¡°ë¥¼ ê°€ì§€ëŠ” ER Diagramì„ ê´€ê³„ ëª¨ë¸ë¡œ ë³€í™˜í•  ë•Œ, **ë¶€ëª¨ ê°œì²´ê°€ í¬í•¨í•˜ëŠ” ì†ì„±ì„ ìì‹ ê°œì²´ê°€ ì¤‘ë³µí•´ì„œ ë‹´ì„ í•„ìš”ëŠ” ì—†ë‹¤**.

        Product(name, price, category, manufacturer)

        EducationalProduct( name, ageGroup, topic)

        SoftwareProduct( name, platforms, requiredMemory)

ìƒê¸° ê´€ê³„ ëª¨ë¸ì—ì„œ, í…Œì´ë¸” *EducationalSoftwareProduct*ì€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ëª¨ìŠµì¸ë°, ì´ëŠ” í•´ë‹¹ í…Œì´ë¸”ì— ì¢…ì†ëœ ì†ì„±ë“¤ì´ ì´ë¯¸ ë‹¤ë¥¸ í…Œì´ë¸”ì— ì „ë¶€ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

ë§Œì•½ í•´ë‹¹ í…Œì´ë¸”ë§Œì´ ê°€ì§€ëŠ” ê³ ìœ í•œ ì¶”ê°€ ì†ì„±ì´ ì—†ë‹¤ë©´, *EducationalSoftwareProduct* ê´€ê³„ ëª¨ë¸ì€ ë”ì´ìƒ í•„ìš”ì—†ì„ ê²ƒì´ë‹¤.

ê°€ë ¹, í•˜ê¸°ì²˜ëŸ¼ *educational-method*ë¼ëŠ” ì¶”ê°€ ì†ì„±ì´ ì¡´ì¬í•œë‹¤ë©´, í•´ë‹¹ í…Œì´ë¸” ì—­ì‹œ ê´€ê³„ ëª¨ë¸ì— ì¶”ê°€í•œë‹¤.

        EducationalSoftwareProduct(name, educational-method)

![image](https://user-images.githubusercontent.com/39285147/192907756-3d81398e-ab68-4d39-bb84-9b339df8b28e.png)

E/R approach good for queries like â€œfind all beers (including ales) made by Peteâ€™s.â€
- Just look in Beers relation.

#### Option 3: The Null Value Approach
![image](https://user-images.githubusercontent.com/39285147/192905984-78b2c9c9-793b-455b-82cb-a6a62ed30b8b.png)

> **Use nulls**
> Create one relation; entities have null in attributes that donâ€™t belong to them.

í•˜ê¸° ê´€ê³„ ëª¨ë¸ì—ì„œ ëª‡ëª‡ ì†ì„±ì€ NULL ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.

        Product(name,  price,  manufacturer, age-group, topic, platforms, required-memory, educational-method)

![image](https://user-images.githubusercontent.com/39285147/192907756-3d81398e-ab68-4d39-bb84-9b339df8b28e.png)

Using nulls saves space unless there are lots of attributes that are usually null.

****
# Summary âœ¨
**Basic cases**
- entity to table, relation to table
- selecting attributes based on keys

**Special cases**
- many-one relation can be merged
- merging many-many is dangerous
- translating weak entity sets
- translating isa hierarchy
    - 3 choices, with trade-offs

****
# Reference 
[Database Management Systems by Raghu Ramakrishnan and Johannes Gehrke](https://pages.cs.wisc.edu/~dbbook/)