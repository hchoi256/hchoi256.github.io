---
layout: single
title: "DBMS: ë°ì´í„° ì €ìž¥ Disks and Files"
categories: DB
tag: [Database, Disk, Files, Buffer]
toc: true
toc_sticky: true
toc_label: "ì­ŒìŠ¤log"
#author_profile: false
header:
    teaser: /assets/images/posts/db.png
sidebar:
    nav: "docs"
---

# INTRO ðŸ™Œ
ì €ë²ˆ ì‹œê°„ì—ëŠ” SQLì— ëŒ€í•˜ì—¬ ì•Œì•„ë³´ì•˜ë‹¤.

        Select eid, ename
        From Employees
        Where salary > 100K

ìƒê¸° SQL ë¬¸ì„ ìž…ë ¥í•˜ë©´, ì‹œìŠ¤í…œì€ *Employees* í…Œì´ë¸”ì„ ìŠ¤ìº”(scan)í•œë‹¤.
- considers each tuple
- if salary > 100K, then return eid, ename

ì´ë²ˆ ì‹œê°„ì—ëŠ” ìƒê¸° ê³¼ì •ì´ **ë°±ì•¤ë“œ(back-end)ì—ì„œ ì–´ë–»ê²Œ ì¼ì–´ë‚˜ëŠ” ê²ƒ**ì¸ì§€, ê·¸ë¦¬ê³   **Disk, Files, Buffer Manager** ì„¸ ê°€ì§€ ê°œë…ì— ëŒ€í•´ ì•Œì•„ë³´ìž.

## Background Knowledge
- í…Œì´ë¸”ì€ file í˜•íƒœë¡œ diskì— ì €ìž¥ëœë‹¤
- íŒŒì¼ì€ ë‹¤ìˆ˜ì˜ pagesë¥¼ ê°–ëŠ”ë‹¤.
- ê° íŽ˜ì´ì§€ëŠ” ë‹¤ìˆ˜ tuples(rows)ë¥¼ ê°–ëŠ”ë‹¤.
- ì‹œìŠ¤í…œ(RDBMS)ì€ ë©”ëª¨ë¦¬(buffer)ì—ì„œ í•œ ë²ˆì— í•œ íŽ˜ì´ì§€ë¥¼ ì²˜ë¦¬í•œë‹¤.

****
# Layer Architecture (DBMS) ðŸ“Œ
![image](https://user-images.githubusercontent.com/39285147/194167732-ebb289d7-bd84-4432-bfd4-c82121227d4f.png)

> ìƒê¸° ëª¨í˜•ì€:
>> *concurrency control(ë™ì‹œì„±)*ê³¼ *recovery components(ë³µêµ¬)*ë¥¼ í¬í•¨í•˜ì§€ ì•ŠëŠ”ë‹¤.
>> ê°€ëŠ¥í•œ ì•„í‚¤í…ì³ ì¤‘ í•˜ë‚˜ì˜ í˜•íƒµì´ë‹¤; ê° ì‹œìŠ¤í…œì€ ì•½ê°„ ë‹¤ë¥¸ í˜•íƒœë¥¼ ê°€ì§€ê³  ìžˆë‹¤.

ì•„ëž˜ SQL ë¬¸ì„ ìž…ë ¥í•˜ë©´ back-end(*ìƒê¸° ëª¨í˜•ì˜ ê° ë‹¨ê³„*)ì—ì„œ ì–´ë–¤ ì²˜ë¦¬ê°€ ì¼ì–´ë‚˜ëŠ”ì§€ ì•Œì•„ë³´ìž.
        
        Select eid, ename
        From Employees
        Where salary > 100K

![image](https://user-images.githubusercontent.com/39285147/194169277-44ed02ae-2023-4d57-9b95-6888f0eb5bf7.png)

## 1. Query Optimization and Execution
plans
- 1. ë°ì´í„° ì°¾ê¸°: scan through entire table to look at certain appropriate data
- 2. ë°ì´í„° ë½‘ê¸°: indexing

## 2. Relational Operators

## 3. Files and Access Methods

## 4. Buffer Management

## 5. Disk Space Management

# Disks ðŸ—‚
- ë¶€ìˆ˜ì  ì €ìž¥ ê³µê°„ (Secondary storage device of choice)
- **random access** vs. **sequential access**
- ë°ì´í„° ì €ìž¥/ë¶ˆëŸ¬ì˜¤ê¸°ëŠ” ë‹¤ìŒ unitsì„ í†µí•´ ì¼ì–´ë‚œë‹¤: **disk blocks** or **pages**.

## Components of a Disk
> [Disk Simulation]( https://animagraffs.com/hard-disk-drive/)

![image](https://user-images.githubusercontent.com/39285147/194168785-1d8fcab0-73d4-49c7-b911-d61d4af9db0d.png)

- The platters spin (say, *90rps*).
- The arm assembly is moved in or out to position  a head on a desired track. Tracks under heads  make a **cylinder** (imaginary!).
- Only one head reads/writes at any one time.
- **Block size** is a multiple of **sector size** (which is fixed).





****
# Reference 
[Database Management Systems by Raghu Ramakrishnan and Johannes Gehrke](https://pages.cs.wisc.edu/~dbbook/)
