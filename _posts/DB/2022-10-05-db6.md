---
layout: single
title: "DBMS: 데이터 저장 Disks and Files"
categories: DB
tag: [Database, Disk, Files, Buffer]
toc: true
toc_sticky: true
toc_label: "쭌스log"
#author_profile: false
header:
    teaser: /assets/images/posts/db.png
sidebar:
    nav: "docs"
---

# INTRO 🙌
저번 시간에는 SQL에 대하여 알아보았다.

        Select eid, ename
        From Employees
        Where salary > 100K

상기 SQL 문을 입력하면, 시스템은 *Employees* 테이블을 스캔(scan)한다.
- considers each tuple
- if salary > 100K, then return eid, ename

이번 시간에는 상기 과정이 **백앤드(back-end)에서 어떻게 일어나는 것**인지, 그리고  **Disk, Files, Buffer Manager** 세 가지 개념에 대해 알아보자.

## Background Knowledge
- 테이블은 file 형태로 disk에 저장된다
- 파일은 다수의 pages를 갖는다.
- 각 페이지는 다수 tuples(rows)를 갖는다.
- 시스템(RDBMS)은 메모리(buffer)에서 한 번에 한 페이지를 처리한다.

****
# Layer Architecture (DBMS) 📌
![image](https://user-images.githubusercontent.com/39285147/194167732-ebb289d7-bd84-4432-bfd4-c82121227d4f.png)

> 상기 모형은:
>> *concurrency control(동시성)*과 *recovery components(복구)*를 포함하지 않는다.
>> 가능한 아키텍쳐 중 하나의 형탵이다; 각 시스템은 약간 다른 형태를 가지고 있다.

아래 SQL 문을 입력하면 back-end(*상기 모형의 각 단계*)에서 어떤 처리가 일어나는지 알아보자.
        
        Select eid, ename
        From Employees
        Where salary > 100K

![image](https://user-images.githubusercontent.com/39285147/194169277-44ed02ae-2023-4d57-9b95-6888f0eb5bf7.png)

## 1. Query Optimization and Execution
plans
- 1. 데이터 찾기: scan through entire table to look at certain appropriate data
- 2. 데이터 뽑기: indexing

## 2. Relational Operators

## 3. Files and Access Methods

## 4. Buffer Management

## 5. Disk Space Management

# Disks 🗂
- 부수적 저장 공간 (Secondary storage device of choice)
- **random access** vs. **sequential access**
- 데이터 저장/불러오기는 다음 units을 통해 일어난다: **disk blocks** or **pages**.

## Components of a Disk
> [Disk Simulation]( https://animagraffs.com/hard-disk-drive/)

![image](https://user-images.githubusercontent.com/39285147/194168785-1d8fcab0-73d4-49c7-b911-d61d4af9db0d.png)

- The platters spin (say, *90rps*).
- The arm assembly is moved in or out to position  a head on a desired track. Tracks under heads  make a **cylinder** (imaginary!).
- Only one head reads/writes at any one time.
- **Block size** is a multiple of **sector size** (which is fixed).





****
# Reference 
[Database Management Systems by Raghu Ramakrishnan and Johannes Gehrke](https://pages.cs.wisc.edu/~dbbook/)
