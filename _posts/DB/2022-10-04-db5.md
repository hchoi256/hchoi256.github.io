---
layout: single
title: "DBMS: SQL"
categories: DB
tag: [Database, SQL]
toc: true
toc_sticky: true
toc_label: "ì­ŒìŠ¤log"
#author_profile: false
header:
    teaser: /assets/images/posts/db.png
sidebar:
    nav: "docs"
---

# INTRO ğŸ™Œ
ì €ë²ˆ ì‹œê°„ì—ëŠ” ER Diagramì„ Relation Model/Designìœ¼ë¡œ ë³€í™˜ì— ëŒ€í•˜ì—¬ ì•Œì•„ë³´ì•˜ë‹¤.

ì´ë²ˆ ì‹œê°„ì—ëŠ” ì‹¤ì§ˆì ìœ¼ë¡œ **SQL(Structured Query Language)**ì„ ì‚¬ìš©í•˜ì—¬ ëª¨ë¸ì„ ìƒì„±í•´ë³´ì.

        SELECT    S
        FROM       R1,â€¦,Rn
        WHERE    C1
        GROUP BY a1,â€¦,ak
        HAVING     C2

****
# SQL ë°°ê²½ì§€ì‹ âœŒ
- ëŒ€ì†Œë¬¸ì êµ¬ë¶„ X
- ë¬¸ì¥ ë§¨ ë’¤ ;
- ë¬¸ìì—´ì€ ì‘ì€ ë”°ì˜´í‘œ(')ë¡œ í‘œì‹œ
- '==' ëŒ€ì‹  '='

## SQL ì¿¼ë¦¬ êµ¬ì¡°
        SELECT [ALL | DISTINCT] ì†ì„±ì´ë¦„ë“¤
        FROM í…Œì´ë¸”ì´ë¦„ë“¤
        WHERE ì¡°ê±´ë“¤
        GROUP BY ì†ì„±ì´ë¦„
        HAVING ê²€ìƒ‰ì¡°ê±´ë“¤
        ORDER BY ì†ì„±ì´ë¦„ [ASC | DESC]

## SQL ë¬¸ë²• ì²˜ë¦¬ìˆœì„œ
        1. FROM
        2. ON
        3. JOIN
        4. WHERE
        5. GROUP BY
        6. HAVING
        7. SELECT
        8. DISTINCT
        9. ORDER BY
        10. TOP

## ì§‘ê³„ í•¨ìˆ˜
        SUM([ALL | DISTINCT] ì†ì„±ì´ë¦„)
        AVG([ALL | DISTINCT] ì†ì„±ì´ë¦„)
        COUNT({[[ALL | DISTINCT] ì†ì„±ì´ë¦„] | *})
        MAX([ALL | DISTINCT] ì†ì„±ì´ë¦„)
        MIN([ALL | DISTINCT] ì†ì„±ì´ë¦„)

****
# SQL ë¬¸ë²•ğŸ’œ
## Single-Relation Query
í•˜ë‚˜ì˜ ê´€ê³„(í…Œì´ë¸”)ë¥¼ í¬í•¨í•˜ëŠ” ì¿¼ë¦¬ë¬¸ ì‘ì„±

### Select, From, Where
        SELECT   ì†ì„±ë“¤
        FROM     í…Œì´ë¸”ë“¤
        WHERE    ì¡°ê±´ë“¤

*Beers* í…Œì´ë¸”ì—ì„œ *Anheuser-Busch* íšŒì‚¬ì—ì„œ ë§Œë“  ë§¥ì£¼ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°

		SELECT *
		FROM Beers
		WHERE manf = â€˜Anheuser-Buschâ€™;

> Output:
> ![image](https://user-images.githubusercontent.com/39285147/195394010-4829098e-fb4b-49a7-b964-9d00dca984ce.png)

### AND, OR, NOT, AS, LIKE
**AND Operator**

        SELECT *
        FROM Company
        WHERE country="USA" AND stockPrice > 50

**AS Operator**

        SELECT bar, beer, price * 120 AS priceInYen
        FROM Sells;

> Output:
> ![image](https://user-images.githubusercontent.com/39285147/195394910-da6218e3-0801-489b-99b4-509ce0d41698.png)

        SELECT drinker, â€˜likes Budâ€™ AS whoLikesBud
        FROM Likes
        WHERE beer = â€˜Budâ€™;

> Output:
> ![image](https://user-images.githubusercontent.com/39285147/195395096-a7533bad-3955-4448-bc8e-faccc1b3f407.png)

**Like Operator**

        <Attribute> LIKE <pattern>
        <Attribute> NOT LIKE <pattern>

%  = any sequence of characters
_   = any single character

        SELECT name
        FROM Drinkers
        WHERE phone LIKE â€˜%555-_ _ _ _â€™;

        SELECT *
        FROM Company
        WHERE country=â€œUSAâ€ AND address LIKE â€œ%Mountain%â€

## Multi-Table Queries
ë‹¤ìˆ˜ì˜ ê´€ê³„(í…Œì´ë¸”)ë“¤ì„ í¬í•¨í•˜ëŠ” ì¿¼ë¦¬ë¬¸ ì‘ì„±

        SELECT Person.name
        FROM Person, Purchase, Product
        WHERE Person.name=Purchase.buyer AND Product=Product.name AND Product.category=â€œtelephonyâ€

****
# Reference 
[Database Management Systems by Raghu Ramakrishnan and Johannes Gehrke](https://pages.cs.wisc.edu/~dbbook/)
