I"oî<h1 id="code">Code</h1>
<p class="notice--danger"><strong>[Notice]</strong> <a href="https://github.com/hchoi256/machine-learning-development">download here</a></p>

<h1 id="learning-goals">Learning Goals</h1>
<p><strong>ì‹œê³„ì—´ ì˜ˆì¸¡</strong>ì„ ìœ„í•œ <strong>í˜ì´ìŠ¤ë¶ Propjet</strong> ì´í•´ <span style="color: blue"> Understanding <strong>Facebook Propjet</strong> for <strong>Time Series Prediction</strong> </span></p>

<h1 id="part-1-chicago-crime-rate">PART 1: Chicago Crime Rate</h1>
<p><img src="https://user-images.githubusercontent.com/39285147/180627186-59e3e369-89c7-4607-b533-0f62794fcde8.png" alt="image" /></p>

<h2 id="description">Description</h2>
<p>ì ˆë„ë²”ì´ ì–´ëŠ ì‹œê°„ëŒ€ì— ê°€ì¥ ì˜ ì¡íˆëŠ”ì§€, ë²”ì£„ìœ¨ì´ ì˜¬ë¼ê°€ëŠ” ê°€ì¥ ë†’ì€ ì‹œê°„ëŒ€ëŠ” ì–¸ì œì¸ì§€ ë“±ì„ ê´€ì°°í•´ë³´ê³  Prophet í™œìš©í•˜ì—¬ ë¯¸ë˜ â€˜Crimeâ€™ ê²°ê³¼ë„ ì˜ˆì¸¡í•´ë³¸ë‹¤. <span style="color: blue"> Observing when thieves are best caught and when the crime rate rises the most, and predict future â€˜Crimeâ€™ results using Prophet. </span></p>

<h2 id="observing-the-dataset">Observing the dataset</h2>
<p><strong>Dataset contains the following columns</strong>:</p>
<ul>
  <li>ID: Unique identifier for the record.</li>
  <li>Case Number: The Chicago Police Department RD Number (Records Division Number), which is unique to the incident.</li>
  <li>Date: Date when the incident occurred.</li>
  <li>Block: address where the incident occurred</li>
  <li>IUCR: The Illinois Unifrom Crime Reporting code.</li>
  <li>Primary Type: The primary description of the IUCR code.</li>
  <li>Description: The secondary description of the IUCR code, a subcategory of the primary description.</li>
  <li>Location Description: Description of the location where the incident occurred.</li>
  <li>Arrest: Indicates whether an arrest was made.</li>
  <li>Domestic: Indicates whether the incident was domestic-related as defined by the Illinois Domestic Violence Act.</li>
  <li>Beat: Indicates the beat where the incident occurred. A beat is the smallest police geographic area â€“ each beat has a dedicated police beat car.</li>
  <li>District: Indicates the police district where the incident occurred.</li>
  <li>Ward: The ward (City Council district) where the incident occurred.</li>
  <li>Community Area: Indicates the community area where the incident occurred. Chicago has 77 community areas.</li>
  <li>FBI Code: Indicates the crime classification as outlined in the FBIâ€™s National Incident-Based Reporting System (NIBRS).</li>
  <li>X Coordinate: The x coordinate of the location where the incident occurred in State Plane Illinois East NAD 1983 projection.</li>
  <li>Y Coordinate: The y coordinate of the location where the incident occurred in State Plane Illinois East NAD 1983 projection.</li>
  <li>Year: Year the incident occurred.</li>
  <li>Updated On: Date and time the record was last updated.</li>
  <li>Latitude: The latitude of the location where the incident occurred. This location is shifted from the actual location for partial redaction but falls on the same block.</li>
  <li>Longitude: The longitude of the location where the incident occurred. This location is shifted from the actual location for partial redaction but falls on the same block.</li>
  <li>Location: The location where the incident occurred in a format that allows for creation of maps and other geographic operations on this data portal. This location is shifted from the actual location for partial redaction but falls on the same block.</li>
</ul>

<p><strong>Datasource</strong>: https://www.kaggle.com/currie32/crimes-in-chicago</p>

<h2 id="loading-the-dataset">Loading the dataset</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span> 
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span> 
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="n">sns</span>
<span class="kn">from</span> <span class="nn">fbprophet</span> <span class="kn">import</span> <span class="n">Prophet</span>

</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># training and testing datasets 
</span><span class="n">chicago_df_1</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'Chicago_Crimes_2005_to_2007.csv'</span><span class="p">,</span> <span class="n">error_bad_lines</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span> <span class="c1"># error_bad_lines: ì†ìƒëœ ì¤„ì´ë‚˜ ëˆ„ë½ëœ í–‰ì„ ë¬´ì‹œí•œë‹¤ Ignoring corrupted or missing lines
</span><span class="n">chicago_df_2</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'Chicago_Crimes_2008_to_2011.csv'</span><span class="p">,</span> <span class="n">error_bad_lines</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">chicago_df_3</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'Chicago_Crimes_2012_to_2017.csv'</span><span class="p">,</span> <span class="n">error_bad_lines</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>


<span class="n">chicago_df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">concat</span><span class="p">([</span><span class="n">chicago_df_1</span><span class="p">,</span> <span class="n">chicago_df_2</span><span class="p">,</span> <span class="n">chicago_df_3</span><span class="p">],</span> <span class="n">ignore_index</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># concatnate dataframes
</span>
</code></pre></div></div>

<h2 id="organizing-the-dataset">Organizing the dataset</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ë¶ˆí•„ìš”í•œ ì—´ ì œê±°í•˜ê¸°
</span><span class="n">chicago_df</span><span class="p">.</span><span class="n">drop</span><span class="p">([</span><span class="s">'Unnamed: 0'</span><span class="p">,</span> <span class="s">'Case Number'</span><span class="p">,</span> <span class="s">'Case Number'</span><span class="p">,</span> <span class="s">'IUCR'</span><span class="p">,</span> <span class="s">'X Coordinate'</span><span class="p">,</span> <span class="s">'Y Coordinate'</span><span class="p">,</span><span class="s">'Updated On'</span><span class="p">,</span><span class="s">'Year'</span><span class="p">,</span> <span class="s">'FBI Code'</span><span class="p">,</span> <span class="s">'Beat'</span><span class="p">,</span><span class="s">'Ward'</span><span class="p">,</span><span class="s">'Community Area'</span><span class="p">,</span> <span class="s">'Location'</span><span class="p">,</span> <span class="s">'District'</span><span class="p">,</span> <span class="s">'Latitude'</span> <span class="p">,</span> <span class="s">'Longitude'</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></div>

<blockquote>
  <p><em>inplace</em>: ë©”ëª¨ë¦¬ì—ì„œ ì‹¤ì œì—´(= ë¶ˆí•„ìš”í•œì—´)ì„ ì‚­ì œí•œë‹¤ <span style="color: blue"> Delete real rows (= unnecessary rows) from memory</span></p>

  <p><em>axis=1</em>: ì „ì²´ ì—´ì„ íƒˆë½ì‹œí‚¨ë‹¤<span style="color: blue"> dissipating all heat</span></p>
</blockquote>

<p>í•˜ê¸° ì½”ë“œëŠ” ì´ í”„ë¡œì íŠ¸ì˜ ì‹œê³„ì—´ ì²˜ë¦¬ì— ìˆ˜ë°˜ë˜ëŠ” ì „ì²˜ë¦¬ ê³¼ì •ì´ë‹¤.<span style="color: blue"> The following code is the preprocessing process involved in the time series processing of this project. </span></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Date í˜•ì‹ ìˆ˜ì • Modifying Date Format
</span><span class="n">chicago_df</span><span class="p">.</span><span class="n">Date</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">chicago_df</span><span class="p">.</span><span class="n">Date</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s">'%m/%d/%Y %I:%M:%S %p'</span><span class="p">)</span>

<span class="c1"># Dateì„ ì¸ë±ìŠ¤ë¡œ í™œìš©í•œë‹¤ Usnig Date as an index
</span><span class="n">chicago_df</span><span class="p">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DatetimeIndex</span><span class="p">(</span><span class="n">chicago_df</span><span class="p">.</span><span class="n">Date</span><span class="p">)</span>

</code></pre></div></div>

<blockquote>
  <p><em>DatetimeIndex</em>: íŠ¹ì •í•œ ìˆœê°„ì— ê¸°ë¡ëœ íƒ€ì„ìŠ¤íƒ¬í”„(timestamp) í˜•ì‹ì˜ ì‹œê³„ì—´ ìë£Œë¥¼ ë‹¤ë£¨ê¸° ìœ„í•œ ì¸ë±ìŠ¤ <span style="color: blue"> Index for handling time series data in timestamp format recorded at a specific moment</span></p>
</blockquote>

<h2 id="data-visualization">Data Visualization</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">sns</span><span class="p">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">chicago_df</span><span class="p">.</span><span class="n">isnull</span><span class="p">(),</span> <span class="n">cbar</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span> <span class="n">cmap</span> <span class="o">=</span> <span class="s">'YlGnBu'</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/39285147/180625915-a5c5d201-7976-403e-9dec-3ee4d1261c6a.png" alt="image" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ì–´ë–¤ ì¢…ë¥˜ì˜ í­ë ¥ì´ ê°€ì¥ ë§ì´ ë°œìƒí–ˆë‚˜ What kind of violence occurred the most
</span><span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">sns</span><span class="p">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span> <span class="s">'Primary Type'</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">chicago_df</span><span class="p">,</span> <span class="n">order</span> <span class="o">=</span> <span class="n">chicago_df</span><span class="p">[</span><span class="s">'Primary Type'</span><span class="p">].</span><span class="n">value_counts</span><span class="p">().</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">15</span><span class="p">].</span><span class="n">index</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/39285147/180626028-84e51093-bcb4-40a8-99ea-575d68f0a53f.png" alt="image" /></p>

<p>â€˜MOTOR VEHICLE THEFTâ€™ ëŒ€ëµ 20ë§Œ ì—¬ê°œì˜ ì°¨ëŸ‰ì´ ë„ë‚œëë‹¤. <span style="color: blue">â€˜MOTOR VEHICLE THEFTâ€™ About 200,000 vehicles were stolen. </span></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ì–´ëŠ ì§€ì—­ì—ì„œ ê°€ì¥ í­ë ¥ì´ ë§ì´ ë°œìƒí–ˆëŠ”ê°€ Which region has the most violence?
</span><span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">sns</span><span class="p">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span> <span class="s">'Location Description'</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">chicago_df</span><span class="p">,</span> <span class="n">order</span> <span class="o">=</span> <span class="n">chicago_df</span><span class="p">[</span><span class="s">'Location Description'</span><span class="p">].</span><span class="n">value_counts</span><span class="p">().</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">15</span><span class="p">].</span><span class="n">index</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/39285147/182013808-c0f8a601-7e9e-4599-9b2e-75098fdc4cb9.png" alt="image" /></p>

<p>â€˜ê±°ë¦¬â€™ì—ì„œ ë°œìƒí•œ í­ë ¥ì´ ê°€ì¥ ë§ì€ ê²ƒì„ í™•ì¸í•´ë³¼ ìˆ˜ ìˆë‹¤. <span style="color: blue"> It can be seen that the most violence occurred on the â€˜streetâ€™.</span></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># íŠ¹ì • ì—°ë„ì— ë²”ì£„ê°€ ì–¼ë§ˆë‚˜ ë°œìƒí–ˆë‚˜ How many crimes occurred in a particular year
</span><span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">chicago_df</span><span class="p">.</span><span class="n">resample</span><span class="p">(</span><span class="s">'Y'</span><span class="p">).</span><span class="n">size</span><span class="p">())</span> <span class="c1"># ì—°ë„(Y) ê¸°ì¤€ìœ¼ë¡œ resampleí•˜ì—¬ íŠ¹ì • ì—°ë„ì— ë°œìƒí•œ ìƒ˜í”Œ ê°œìˆ˜(ì‚¬ê±´ ìˆ˜)ë¥¼ ë„ì¶œ Resampling based on year (Y) to derive # samples (# events) that occurred in a specific year
</span><span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Crimes Count Per Year'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Years'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Number of Crimes'</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/39285147/180626221-6bc29e6a-a714-4dda-8654-54085509b499.png" alt="image" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    Date
    2005-12-31    455811
    2006-12-31    794684
    2007-12-31    621848
    2008-12-31    852053
    2009-12-31    783900
    2010-12-31    700691
    2011-12-31    352066
    2012-12-31    335670
    2013-12-31    306703
    2014-12-31    274527
    2015-12-31    262995
    2016-12-31    265462
    2017-12-31     11357
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># íŠ¹ì • ë‹¬ì— ë²”ì£„ê°€ ì–¼ë§ˆë‚˜ ë°œìƒí–ˆë‚˜ How many crimes occurred in a particular month
</span><span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">chicago_df</span><span class="p">.</span><span class="n">resample</span><span class="p">(</span><span class="s">'M'</span><span class="p">).</span><span class="n">size</span><span class="p">())</span>
<span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Crimes Count Per Month'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Months'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Number of Crimes'</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/39285147/180626249-77bc4292-b858-4436-a7d1-16f7dd213c7d.png" alt="image" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># íŠ¹ì • ë¶„ê¸°ì— ë²”ì£„ê°€ ì–¼ë§ˆë‚˜ ë°œìƒí–ˆë‚˜ How many crimes occurred in a particular quarter
</span><span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">chicago_df</span><span class="p">.</span><span class="n">resample</span><span class="p">(</span><span class="s">'Q'</span><span class="p">).</span><span class="n">size</span><span class="p">())</span>
<span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Crimes Count Per Quarter'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'Quarters'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'Number of Crimes'</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/39285147/180626270-d43dbc75-697e-44e0-896c-a83cb635d75a.png" alt="image" /></p>

<h2 id="data-preprocessing">Data Preprocessing</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">chicago_prophet</span> <span class="o">=</span> <span class="n">chicago_df</span><span class="p">.</span><span class="n">resample</span><span class="p">(</span><span class="s">'M'</span><span class="p">).</span><span class="n">size</span><span class="p">().</span><span class="n">reset_index</span><span class="p">()</span> <span class="c1"># ì¸ë±ìŠ¤í™” ë˜ì–´ìˆëŠ” í…Œì´ë¸”ì„ ì´ˆê¸°í™”ì‹œí‚¨ë‹¤ Initializing an indexed table
</span><span class="n">chicago_prophet</span><span class="p">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Date'</span><span class="p">,</span> <span class="s">'Crime Count'</span><span class="p">]</span>
<span class="n">chicago_prophet_df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">chicago_prophet</span><span class="p">)</span>
<span class="n">chicago_prophet_df_final</span> <span class="o">=</span> <span class="n">chicago_prophet_df</span><span class="p">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s">'Date'</span><span class="p">:</span><span class="s">'ds'</span><span class="p">,</span> <span class="s">'Crime Count'</span><span class="p">:</span><span class="s">'y'</span><span class="p">})</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/39285147/180626349-87d721fd-31fc-4964-aabf-3fa9febbc6bd.png" alt="image" /></p>

<h2 id="prediction">Prediction</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">m</span> <span class="o">=</span> <span class="n">Prophet</span><span class="p">()</span> <span class="c1"># 'Crimeì˜' ë¯¸ë˜ë¥¼ ì˜ˆì¸¡í•˜ëŠ” ì—­í•  Predicting the future of 'Crime'
</span><span class="n">m</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">chicago_prophet_df_final</span><span class="p">)</span>

<span class="c1"># Forcasting into the future
</span><span class="n">future</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">make_future_dataframe</span><span class="p">(</span><span class="n">periods</span><span class="o">=</span><span class="mi">365</span><span class="p">)</span> <span class="c1"># ì•ìœ¼ë¡œ 1ë…„ ë™ì•ˆì˜ 'Crime'ì„ Prophet í™œìš©í•˜ì—¬ ì˜ˆì¸¡ Prediction using Prophet 'Crime' for the next year
</span><span class="n">forecast</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">future</span><span class="p">)</span>
</code></pre></div></div>

<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ds</th>
      <th>trend</th>
      <th>yhat_lower</th>
      <th>yhat_upper</th>
      <th>trend_lower</th>
      <th>trend_upper</th>
      <th>additive_terms</th>
      <th>additive_terms_lower</th>
      <th>additive_terms_upper</th>
      <th>yearly</th>
      <th>yearly_lower</th>
      <th>yearly_upper</th>
      <th>multiplicative_terms</th>
      <th>multiplicative_terms_lower</th>
      <th>multiplicative_terms_upper</th>
      <th>yhat</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2005-01-31</td>
      <td>60454.550849</td>
      <td>38579.873129</td>
      <td>72458.344880</td>
      <td>60454.550849</td>
      <td>60454.550849</td>
      <td>-4762.896867</td>
      <td>-4762.896867</td>
      <td>-4762.896867</td>
      <td>-4762.896867</td>
      <td>-4762.896867</td>
      <td>-4762.896867</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>55691.653982</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2005-02-28</td>
      <td>60322.147047</td>
      <td>34221.041714</td>
      <td>67421.454566</td>
      <td>60322.147047</td>
      <td>60322.147047</td>
      <td>-9500.949898</td>
      <td>-9500.949898</td>
      <td>-9500.949898</td>
      <td>-9500.949898</td>
      <td>-9500.949898</td>
      <td>-9500.949898</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>50821.197149</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2005-03-31</td>
      <td>60175.557124</td>
      <td>42823.370306</td>
      <td>75698.921616</td>
      <td>60175.557124</td>
      <td>60175.557124</td>
      <td>-1224.296867</td>
      <td>-1224.296867</td>
      <td>-1224.296867</td>
      <td>-1224.296867</td>
      <td>-1224.296867</td>
      <td>-1224.296867</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>58951.260257</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2005-04-30</td>
      <td>60033.695908</td>
      <td>44555.300811</td>
      <td>79384.772219</td>
      <td>60033.695908</td>
      <td>60033.695908</td>
      <td>1182.976012</td>
      <td>1182.976012</td>
      <td>1182.976012</td>
      <td>1182.976012</td>
      <td>1182.976012</td>
      <td>1182.976012</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>61216.671919</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2005-05-31</td>
      <td>59887.105985</td>
      <td>49410.229024</td>
      <td>81613.777868</td>
      <td>59887.105985</td>
      <td>59887.105985</td>
      <td>5498.632207</td>
      <td>5498.632207</td>
      <td>5498.632207</td>
      <td>5498.632207</td>
      <td>5498.632207</td>
      <td>5498.632207</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>65385.738191</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2005-06-30</td>
      <td>59745.244769</td>
      <td>47098.245873</td>
      <td>78678.030782</td>
      <td>59745.244769</td>
      <td>59745.244769</td>
      <td>3577.501610</td>
      <td>3577.501610</td>
      <td>3577.501610</td>
      <td>3577.501610</td>
      <td>3577.501610</td>
      <td>3577.501610</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>63322.746379</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2005-07-31</td>
      <td>59598.654838</td>
      <td>47806.382068</td>
      <td>80665.905762</td>
      <td>59598.654838</td>
      <td>59598.654838</td>
      <td>4583.361194</td>
      <td>4583.361194</td>
      <td>4583.361194</td>
      <td>4583.361194</td>
      <td>4583.361194</td>
      <td>4583.361194</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>64182.016032</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2005-08-31</td>
      <td>59452.064908</td>
      <td>47368.296071</td>
      <td>80756.033012</td>
      <td>59452.064908</td>
      <td>59452.064908</td>
      <td>4499.375562</td>
      <td>4499.375562</td>
      <td>4499.375562</td>
      <td>4499.375562</td>
      <td>4499.375562</td>
      <td>4499.375562</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>63951.440470</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2005-09-30</td>
      <td>59310.203685</td>
      <td>44535.626188</td>
      <td>77006.014932</td>
      <td>59310.203685</td>
      <td>59310.203685</td>
      <td>1749.549105</td>
      <td>1749.549105</td>
      <td>1749.549105</td>
      <td>1749.549105</td>
      <td>1749.549105</td>
      <td>1749.549105</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>61059.752790</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2005-10-31</td>
      <td>59163.613755</td>
      <td>45431.878281</td>
      <td>78473.609767</td>
      <td>59163.613755</td>
      <td>59163.613755</td>
      <td>2397.346677</td>
      <td>2397.346677</td>
      <td>2397.346677</td>
      <td>2397.346677</td>
      <td>2397.346677</td>
      <td>2397.346677</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>61560.960432</td>
    </tr>
    <tr>
      <th>10</th>
      <td>2005-11-30</td>
      <td>59021.752529</td>
      <td>39855.843322</td>
      <td>73045.342043</td>
      <td>59021.752529</td>
      <td>59021.752529</td>
      <td>-2065.033670</td>
      <td>-2065.033670</td>
      <td>-2065.033670</td>
      <td>-2065.033670</td>
      <td>-2065.033670</td>
      <td>-2065.033670</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>56956.718858</td>
    </tr>
    <tr>
      <th>11</th>
      <td>2005-12-31</td>
      <td>58875.162595</td>
      <td>35993.544575</td>
      <td>71131.998977</td>
      <td>58875.162595</td>
      <td>58875.162595</td>
      <td>-5992.119657</td>
      <td>-5992.119657</td>
      <td>-5992.119657</td>
      <td>-5992.119657</td>
      <td>-5992.119657</td>
      <td>-5992.119657</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>52883.042938</td>
    </tr>
    <tr>
      <th>12</th>
      <td>2006-01-31</td>
      <td>58728.572661</td>
      <td>36668.886036</td>
      <td>70839.471318</td>
      <td>58728.572661</td>
      <td>58728.572661</td>
      <td>-4772.659269</td>
      <td>-4772.659269</td>
      <td>-4772.659269</td>
      <td>-4772.659269</td>
      <td>-4772.659269</td>
      <td>-4772.659269</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>53955.913392</td>
    </tr>
    <tr>
      <th>13</th>
      <td>2006-02-28</td>
      <td>58596.168850</td>
      <td>32430.561382</td>
      <td>65806.466898</td>
      <td>58596.168850</td>
      <td>58596.168850</td>
      <td>-9503.051717</td>
      <td>-9503.051717</td>
      <td>-9503.051717</td>
      <td>-9503.051717</td>
      <td>-9503.051717</td>
      <td>-9503.051717</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>49093.117133</td>
    </tr>
    <tr>
      <th>14</th>
      <td>2006-03-31</td>
      <td>58449.578916</td>
      <td>39193.541836</td>
      <td>71919.946197</td>
      <td>58449.578916</td>
      <td>58449.578916</td>
      <td>-1224.434198</td>
      <td>-1224.434198</td>
      <td>-1224.434198</td>
      <td>-1224.434198</td>
      <td>-1224.434198</td>
      <td>-1224.434198</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>57225.144718</td>
    </tr>
    <tr>
      <th>15</th>
      <td>2006-04-30</td>
      <td>58307.717686</td>
      <td>42625.987661</td>
      <td>77057.400277</td>
      <td>58307.717686</td>
      <td>58307.717686</td>
      <td>1187.100547</td>
      <td>1187.100547</td>
      <td>1187.100547</td>
      <td>1187.100547</td>
      <td>1187.100547</td>
      <td>1187.100547</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>59494.818233</td>
    </tr>
    <tr>
      <th>16</th>
      <td>2006-05-31</td>
      <td>58161.127748</td>
      <td>45990.584105</td>
      <td>80277.571713</td>
      <td>58161.127748</td>
      <td>58161.127748</td>
      <td>5451.418874</td>
      <td>5451.418874</td>
      <td>5451.418874</td>
      <td>5451.418874</td>
      <td>5451.418874</td>
      <td>5451.418874</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>63612.546621</td>
    </tr>
    <tr>
      <th>17</th>
      <td>2006-06-30</td>
      <td>58019.266517</td>
      <td>45778.759963</td>
      <td>79069.169730</td>
      <td>58019.266517</td>
      <td>58019.266517</td>
      <td>3564.138248</td>
      <td>3564.138248</td>
      <td>3564.138248</td>
      <td>3564.138248</td>
      <td>3564.138248</td>
      <td>3564.138248</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>61583.404765</td>
    </tr>
    <tr>
      <th>18</th>
      <td>2006-07-31</td>
      <td>57872.676579</td>
      <td>47002.201998</td>
      <td>79782.570772</td>
      <td>57872.676579</td>
      <td>57872.676579</td>
      <td>4563.254349</td>
      <td>4563.254349</td>
      <td>4563.254349</td>
      <td>4563.254349</td>
      <td>4563.254349</td>
      <td>4563.254349</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>62435.930927</td>
    </tr>
    <tr>
      <th>19</th>
      <td>2006-08-31</td>
      <td>57726.086594</td>
      <td>45447.102442</td>
      <td>79160.703585</td>
      <td>57726.086594</td>
      <td>57726.086594</td>
      <td>4479.990711</td>
      <td>4479.990711</td>
      <td>4479.990711</td>
      <td>4479.990711</td>
      <td>4479.990711</td>
      <td>4479.990711</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>62206.077306</td>
    </tr>
    <tr>
      <th>20</th>
      <td>2006-09-30</td>
      <td>57584.225319</td>
      <td>41994.861861</td>
      <td>76377.523816</td>
      <td>57584.225319</td>
      <td>57584.225319</td>
      <td>1829.842795</td>
      <td>1829.842795</td>
      <td>1829.842795</td>
      <td>1829.842795</td>
      <td>1829.842795</td>
      <td>1829.842795</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>59414.068114</td>
    </tr>
    <tr>
      <th>21</th>
      <td>2006-10-31</td>
      <td>57437.635335</td>
      <td>43300.623636</td>
      <td>77873.098798</td>
      <td>57437.635335</td>
      <td>57437.635335</td>
      <td>2439.830765</td>
      <td>2439.830765</td>
      <td>2439.830765</td>
      <td>2439.830765</td>
      <td>2439.830765</td>
      <td>2439.830765</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>59877.466100</td>
    </tr>
    <tr>
      <th>22</th>
      <td>2006-11-30</td>
      <td>57295.774060</td>
      <td>38210.477095</td>
      <td>73388.386714</td>
      <td>57295.774060</td>
      <td>57295.774060</td>
      <td>-2045.360906</td>
      <td>-2045.360906</td>
      <td>-2045.360906</td>
      <td>-2045.360906</td>
      <td>-2045.360906</td>
      <td>-2045.360906</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>55250.413154</td>
    </tr>
    <tr>
      <th>23</th>
      <td>2006-12-31</td>
      <td>57149.184075</td>
      <td>34675.761615</td>
      <td>67310.501555</td>
      <td>57149.184075</td>
      <td>57149.184075</td>
      <td>-6013.413267</td>
      <td>-6013.413267</td>
      <td>-6013.413267</td>
      <td>-6013.413267</td>
      <td>-6013.413267</td>
      <td>-6013.413267</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>51135.770808</td>
    </tr>
    <tr>
      <th>24</th>
      <td>2007-01-31</td>
      <td>56994.480254</td>
      <td>35873.268789</td>
      <td>69294.200682</td>
      <td>56994.480254</td>
      <td>56994.480254</td>
      <td>-4783.036614</td>
      <td>-4783.036614</td>
      <td>-4783.036614</td>
      <td>-4783.036614</td>
      <td>-4783.036614</td>
      <td>-4783.036614</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>52211.443640</td>
    </tr>
    <tr>
      <th>25</th>
      <td>2007-02-28</td>
      <td>56854.747771</td>
      <td>29801.353956</td>
      <td>62906.688914</td>
      <td>56854.747771</td>
      <td>56854.747771</td>
      <td>-9501.921423</td>
      <td>-9501.921423</td>
      <td>-9501.921423</td>
      <td>-9501.921423</td>
      <td>-9501.921423</td>
      <td>-9501.921423</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>47352.826348</td>
    </tr>
    <tr>
      <th>26</th>
      <td>2007-03-31</td>
      <td>56700.043950</td>
      <td>38154.033064</td>
      <td>72707.777440</td>
      <td>56700.043950</td>
      <td>56700.043950</td>
      <td>-1225.266871</td>
      <td>-1225.266871</td>
      <td>-1225.266871</td>
      <td>-1225.266871</td>
      <td>-1225.266871</td>
      <td>-1225.266871</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>55474.777078</td>
    </tr>
    <tr>
      <th>27</th>
      <td>2007-04-30</td>
      <td>56550.330574</td>
      <td>40491.474353</td>
      <td>74706.900200</td>
      <td>56550.330574</td>
      <td>56550.330574</td>
      <td>1190.223261</td>
      <td>1190.223261</td>
      <td>1190.223261</td>
      <td>1190.223261</td>
      <td>1190.223261</td>
      <td>1190.223261</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>57740.553835</td>
    </tr>
    <tr>
      <th>28</th>
      <td>2007-05-31</td>
      <td>56395.626753</td>
      <td>45020.807451</td>
      <td>77993.605388</td>
      <td>56395.626753</td>
      <td>56395.626753</td>
      <td>5402.206493</td>
      <td>5402.206493</td>
      <td>5402.206493</td>
      <td>5402.206493</td>
      <td>5402.206493</td>
      <td>5402.206493</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>61797.833246</td>
    </tr>
    <tr>
      <th>29</th>
      <td>2007-06-30</td>
      <td>56230.582698</td>
      <td>43009.450294</td>
      <td>77307.962960</td>
      <td>56230.582698</td>
      <td>56230.582698</td>
      <td>3551.457755</td>
      <td>3551.457755</td>
      <td>3551.457755</td>
      <td>3551.457755</td>
      <td>3551.457755</td>
      <td>3551.457755</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>59782.040452</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>480</th>
      <td>2018-01-02</td>
      <td>10430.753220</td>
      <td>-10645.820107</td>
      <td>20038.001128</td>
      <td>10287.038125</td>
      <td>10556.745840</td>
      <td>-5814.639079</td>
      <td>-5814.639079</td>
      <td>-5814.639079</td>
      <td>-5814.639079</td>
      <td>-5814.639079</td>
      <td>-5814.639079</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4616.114140</td>
    </tr>
    <tr>
      <th>481</th>
      <td>2018-01-03</td>
      <td>10417.686680</td>
      <td>-12131.618633</td>
      <td>21312.023151</td>
      <td>10273.332005</td>
      <td>10544.184093</td>
      <td>-5725.854616</td>
      <td>-5725.854616</td>
      <td>-5725.854616</td>
      <td>-5725.854616</td>
      <td>-5725.854616</td>
      <td>-5725.854616</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4691.832063</td>
    </tr>
    <tr>
      <th>482</th>
      <td>2018-01-04</td>
      <td>10404.620140</td>
      <td>-11264.733448</td>
      <td>21481.058839</td>
      <td>10259.615204</td>
      <td>10531.622345</td>
      <td>-5640.534387</td>
      <td>-5640.534387</td>
      <td>-5640.534387</td>
      <td>-5640.534387</td>
      <td>-5640.534387</td>
      <td>-5640.534387</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4764.085753</td>
    </tr>
    <tr>
      <th>483</th>
      <td>2018-01-05</td>
      <td>10391.553601</td>
      <td>-11293.427706</td>
      <td>21583.702828</td>
      <td>10245.910236</td>
      <td>10519.060598</td>
      <td>-5560.875533</td>
      <td>-5560.875533</td>
      <td>-5560.875533</td>
      <td>-5560.875533</td>
      <td>-5560.875533</td>
      <td>-5560.875533</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4830.678068</td>
    </tr>
    <tr>
      <th>484</th>
      <td>2018-01-06</td>
      <td>10378.487061</td>
      <td>-10571.821161</td>
      <td>21827.517378</td>
      <td>10232.514272</td>
      <td>10506.498851</td>
      <td>-5488.665623</td>
      <td>-5488.665623</td>
      <td>-5488.665623</td>
      <td>-5488.665623</td>
      <td>-5488.665623</td>
      <td>-5488.665623</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4889.821439</td>
    </tr>
    <tr>
      <th>485</th>
      <td>2018-01-07</td>
      <td>10365.420522</td>
      <td>-11213.789750</td>
      <td>21737.667858</td>
      <td>10218.899641</td>
      <td>10493.937103</td>
      <td>-5425.240870</td>
      <td>-5425.240870</td>
      <td>-5425.240870</td>
      <td>-5425.240870</td>
      <td>-5425.240870</td>
      <td>-5425.240870</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4940.179652</td>
    </tr>
    <tr>
      <th>486</th>
      <td>2018-01-08</td>
      <td>10352.353982</td>
      <td>-11068.421737</td>
      <td>22756.628202</td>
      <td>10205.056042</td>
      <td>10481.449293</td>
      <td>-5371.460788</td>
      <td>-5371.460788</td>
      <td>-5371.460788</td>
      <td>-5371.460788</td>
      <td>-5371.460788</td>
      <td>-5371.460788</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4980.893194</td>
    </tr>
    <tr>
      <th>487</th>
      <td>2018-01-09</td>
      <td>10339.287442</td>
      <td>-11751.596928</td>
      <td>22353.659111</td>
      <td>10191.219798</td>
      <td>10469.065920</td>
      <td>-5327.699997</td>
      <td>-5327.699997</td>
      <td>-5327.699997</td>
      <td>-5327.699997</td>
      <td>-5327.699997</td>
      <td>-5327.699997</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5011.587446</td>
    </tr>
    <tr>
      <th>488</th>
      <td>2018-01-10</td>
      <td>10326.220903</td>
      <td>-12214.265224</td>
      <td>21555.904799</td>
      <td>10177.503749</td>
      <td>10456.812418</td>
      <td>-5293.857323</td>
      <td>-5293.857323</td>
      <td>-5293.857323</td>
      <td>-5293.857323</td>
      <td>-5293.857323</td>
      <td>-5293.857323</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5032.363580</td>
    </tr>
    <tr>
      <th>489</th>
      <td>2018-01-11</td>
      <td>10313.154363</td>
      <td>-13379.641545</td>
      <td>21442.105207</td>
      <td>10163.873381</td>
      <td>10444.834064</td>
      <td>-5269.381789</td>
      <td>-5269.381789</td>
      <td>-5269.381789</td>
      <td>-5269.381789</td>
      <td>-5269.381789</td>
      <td>-5269.381789</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5043.772575</td>
    </tr>
    <tr>
      <th>490</th>
      <td>2018-01-12</td>
      <td>10300.087824</td>
      <td>-11407.652737</td>
      <td>22014.507343</td>
      <td>10150.269457</td>
      <td>10432.577518</td>
      <td>-5253.314515</td>
      <td>-5253.314515</td>
      <td>-5253.314515</td>
      <td>-5253.314515</td>
      <td>-5253.314515</td>
      <td>-5253.314515</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5046.773309</td>
    </tr>
    <tr>
      <th>491</th>
      <td>2018-01-13</td>
      <td>10287.021284</td>
      <td>-11767.060141</td>
      <td>23105.051714</td>
      <td>10136.676775</td>
      <td>10420.474065</td>
      <td>-5244.345070</td>
      <td>-5244.345070</td>
      <td>-5244.345070</td>
      <td>-5244.345070</td>
      <td>-5244.345070</td>
      <td>-5244.345070</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5042.676214</td>
    </tr>
    <tr>
      <th>492</th>
      <td>2018-01-14</td>
      <td>10273.954744</td>
      <td>-12453.383825</td>
      <td>22490.477042</td>
      <td>10122.988290</td>
      <td>10408.031781</td>
      <td>-5240.880304</td>
      <td>-5240.880304</td>
      <td>-5240.880304</td>
      <td>-5240.880304</td>
      <td>-5240.880304</td>
      <td>-5240.880304</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5033.074441</td>
    </tr>
    <tr>
      <th>493</th>
      <td>2018-01-15</td>
      <td>10260.888205</td>
      <td>-11792.410668</td>
      <td>21383.620828</td>
      <td>10109.359927</td>
      <td>10395.589498</td>
      <td>-5241.123306</td>
      <td>-5241.123306</td>
      <td>-5241.123306</td>
      <td>-5241.123306</td>
      <td>-5241.123306</td>
      <td>-5241.123306</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5019.764899</td>
    </tr>
    <tr>
      <th>494</th>
      <td>2018-01-16</td>
      <td>10247.821665</td>
      <td>-10884.794995</td>
      <td>21807.204144</td>
      <td>10095.446589</td>
      <td>10383.147214</td>
      <td>-5243.159787</td>
      <td>-5243.159787</td>
      <td>-5243.159787</td>
      <td>-5243.159787</td>
      <td>-5243.159787</td>
      <td>-5243.159787</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5004.661878</td>
    </tr>
    <tr>
      <th>495</th>
      <td>2018-01-17</td>
      <td>10234.755126</td>
      <td>-11117.490200</td>
      <td>21908.112254</td>
      <td>10081.328118</td>
      <td>10370.704930</td>
      <td>-5245.048924</td>
      <td>-5245.048924</td>
      <td>-5245.048924</td>
      <td>-5245.048924</td>
      <td>-5245.048924</td>
      <td>-5245.048924</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4989.706201</td>
    </tr>
    <tr>
      <th>496</th>
      <td>2018-01-18</td>
      <td>10221.688586</td>
      <td>-11471.233652</td>
      <td>22612.102358</td>
      <td>10067.579986</td>
      <td>10358.232019</td>
      <td>-5244.915571</td>
      <td>-5244.915571</td>
      <td>-5244.915571</td>
      <td>-5244.915571</td>
      <td>-5244.915571</td>
      <td>-5244.915571</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4976.773015</td>
    </tr>
    <tr>
      <th>497</th>
      <td>2018-01-19</td>
      <td>10208.622046</td>
      <td>-12616.078056</td>
      <td>22604.293475</td>
      <td>10053.863185</td>
      <td>10345.699704</td>
      <td>-5241.040633</td>
      <td>-5241.040633</td>
      <td>-5241.040633</td>
      <td>-5241.040633</td>
      <td>-5241.040633</td>
      <td>-5241.040633</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4967.581413</td>
    </tr>
    <tr>
      <th>498</th>
      <td>2018-01-20</td>
      <td>10195.555507</td>
      <td>-11085.109200</td>
      <td>21862.639163</td>
      <td>10040.146384</td>
      <td>10333.148577</td>
      <td>-5231.946498</td>
      <td>-5231.946498</td>
      <td>-5231.946498</td>
      <td>-5231.946498</td>
      <td>-5231.946498</td>
      <td>-5231.946498</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4963.609009</td>
    </tr>
    <tr>
      <th>499</th>
      <td>2018-01-21</td>
      <td>10182.488967</td>
      <td>-12116.756382</td>
      <td>22124.561839</td>
      <td>10026.429583</td>
      <td>10320.597449</td>
      <td>-5216.474494</td>
      <td>-5216.474494</td>
      <td>-5216.474494</td>
      <td>-5216.474494</td>
      <td>-5216.474494</td>
      <td>-5216.474494</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4966.014473</td>
    </tr>
    <tr>
      <th>500</th>
      <td>2018-01-22</td>
      <td>10169.422428</td>
      <td>-11799.236660</td>
      <td>22128.247318</td>
      <td>10012.712782</td>
      <td>10308.046322</td>
      <td>-5193.851637</td>
      <td>-5193.851637</td>
      <td>-5193.851637</td>
      <td>-5193.851637</td>
      <td>-5193.851637</td>
      <td>-5193.851637</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4975.570791</td>
    </tr>
    <tr>
      <th>501</th>
      <td>2018-01-23</td>
      <td>10156.355888</td>
      <td>-11397.718675</td>
      <td>21488.804694</td>
      <td>9998.995980</td>
      <td>10295.688169</td>
      <td>-5163.744193</td>
      <td>-5163.744193</td>
      <td>-5163.744193</td>
      <td>-5163.744193</td>
      <td>-5163.744193</td>
      <td>-5163.744193</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>4992.611695</td>
    </tr>
    <tr>
      <th>502</th>
      <td>2018-01-24</td>
      <td>10143.289348</td>
      <td>-12170.143585</td>
      <td>21137.408443</td>
      <td>9985.289993</td>
      <td>10283.354063</td>
      <td>-5126.296039</td>
      <td>-5126.296039</td>
      <td>-5126.296039</td>
      <td>-5126.296039</td>
      <td>-5126.296039</td>
      <td>-5126.296039</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5016.993309</td>
    </tr>
    <tr>
      <th>503</th>
      <td>2018-01-25</td>
      <td>10130.222809</td>
      <td>-11855.103144</td>
      <td>21615.603916</td>
      <td>9971.447744</td>
      <td>10271.019957</td>
      <td>-5082.150230</td>
      <td>-5082.150230</td>
      <td>-5082.150230</td>
      <td>-5082.150230</td>
      <td>-5082.150230</td>
      <td>-5082.150230</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5048.072579</td>
    </tr>
    <tr>
      <th>504</th>
      <td>2018-01-26</td>
      <td>10117.156269</td>
      <td>-12025.376518</td>
      <td>22220.684386</td>
      <td>9957.493001</td>
      <td>10258.685851</td>
      <td>-5032.452727</td>
      <td>-5032.452727</td>
      <td>-5032.452727</td>
      <td>-5032.452727</td>
      <td>-5032.452727</td>
      <td>-5032.452727</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5084.703542</td>
    </tr>
    <tr>
      <th>505</th>
      <td>2018-01-27</td>
      <td>10104.089730</td>
      <td>-12326.781502</td>
      <td>21628.736366</td>
      <td>9943.939751</td>
      <td>10246.351744</td>
      <td>-4978.837801</td>
      <td>-4978.837801</td>
      <td>-4978.837801</td>
      <td>-4978.837801</td>
      <td>-4978.837801</td>
      <td>-4978.837801</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5125.251929</td>
    </tr>
    <tr>
      <th>506</th>
      <td>2018-01-28</td>
      <td>10091.023190</td>
      <td>-12000.100061</td>
      <td>22722.886587</td>
      <td>9930.400801</td>
      <td>10234.017638</td>
      <td>-4923.395183</td>
      <td>-4923.395183</td>
      <td>-4923.395183</td>
      <td>-4923.395183</td>
      <td>-4923.395183</td>
      <td>-4923.395183</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5167.628007</td>
    </tr>
    <tr>
      <th>507</th>
      <td>2018-01-29</td>
      <td>10077.956651</td>
      <td>-11021.460045</td>
      <td>21882.372752</td>
      <td>9916.765027</td>
      <td>10221.727326</td>
      <td>-4868.619657</td>
      <td>-4868.619657</td>
      <td>-4868.619657</td>
      <td>-4868.619657</td>
      <td>-4868.619657</td>
      <td>-4868.619657</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5209.336993</td>
    </tr>
    <tr>
      <th>508</th>
      <td>2018-01-30</td>
      <td>10064.890111</td>
      <td>-11496.619265</td>
      <td>20772.074491</td>
      <td>9903.067605</td>
      <td>10209.526120</td>
      <td>-4817.344316</td>
      <td>-4817.344316</td>
      <td>-4817.344316</td>
      <td>-4817.344316</td>
      <td>-4817.344316</td>
      <td>-4817.344316</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5247.545795</td>
    </tr>
    <tr>
      <th>509</th>
      <td>2018-01-31</td>
      <td>10051.823571</td>
      <td>-13360.948215</td>
      <td>21954.650132</td>
      <td>9889.370183</td>
      <td>10197.222692</td>
      <td>-4772.659269</td>
      <td>-4772.659269</td>
      <td>-4772.659269</td>
      <td>-4772.659269</td>
      <td>-4772.659269</td>
      <td>-4772.659269</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>5279.164302</td>
    </tr>
  </tbody>
</table>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">figure</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">forecast</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s">'Date'</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s">'Crime Rate'</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/39285147/180626434-50c9ad80-89f1-41b7-8f09-0b81df037201.png" alt="image" /></p>

<p>ì‹œê°í™” ìë£Œì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´ ë°ì´í„°ì— í¬í•¨ëœ 2017ë…„ ì´í›„ì˜ ì—°ë„ ë˜í•œ Prophetì„ í†µí•˜ì—¬ í‘œí˜„ì´ ê°€ëŠ¥í•˜ë‹¤. <span style="color: blue"> As can be seen from the visualization data, the years after 2017 included in the data can also be expressed through Prophet. </span></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ì˜ˆì¸¡ëœ ì¶”ì„¸ê°€ ì–´ë–¤ ëª¨ì–‘ì¼ì§€ ë„ì¶œ Determining what the predicted trend will look like
</span><span class="n">figure3</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">plot_components</span><span class="p">(</span><span class="n">forecast</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/39285147/180626451-4193c24f-4667-483b-867e-934386363c79.png" alt="image" /></p>

<p>ì‹œì¹´ê³ ì™€ ê°™ì€ ê²½ìš° ê·¸ë˜í”„ì—ì„œ 7ì›”ë‹¬(ì—¬ë¦„)ê¹Œì§€ ë²”ì£„ìœ¨ì´ ìƒìŠ¹í•˜ë‹¤ê°€, ê·¸ ì´í›„ë¡œ ê²¨ìš¸ì„ ë§ì•„ ë‚ ì”¨ê°€ ì¶”ì›Œì§€ë©´ì„œ ë²”ì£„ìœ¨ì´ í•˜ë½í•˜ëŠ” í˜„ìƒì„ ê´€ì°°í•´ë³¼ ìˆ˜ ìˆë‹¤. <span style="color: blue"> In the case of Chicago, the graph shows that the crime rate rises until July (summer), and then the crime rate decreases as the weather gets colder in winter. </span></p>

<h1 id="part-2-avocado-market">PART 2: Avocado Market</h1>
<p><img src="https://user-images.githubusercontent.com/39285147/180627180-230065b5-cac5-4905-9275-9a3b8c9c0201.png" alt="image" /></p>

<h2 id="description-1">Description</h2>
<p>í˜ì´ìŠ¤ë¶ Prophetì„ ì‚¬ìš©í•´ ë¯¸ë˜ ë¬¼ê°€ë¥¼ ì˜ˆì¸¡í•œë‹¤. <span style="color: blue"></span></p>

<h2 id="observing-the-dataset-1">Observing the dataset</h2>
<p><strong>Some relevant columns in the dataset</strong>:</p>
<ul>
  <li>Date - The date of the observation</li>
  <li>AveragePrice - the average price of a single avocado</li>
  <li>type - conventional or organic</li>
  <li>year - the year</li>
  <li>Region - the city or region of the observation</li>
  <li>Total Volume - Total number of avocados sold</li>
  <li>4046 - Total number of avocados with PLU 4046 sold</li>
  <li>4225 - Total number of avocados with PLU 4225 sold</li>
  <li>4770 - Total number of avocados with PLU 4770 sold</li>
</ul>

<h2 id="loading-the-dataset-1">Loading the dataset</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># import libraries 
</span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span> <span class="c1"># Import Pandas for data manipulation using dataframes
</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span> <span class="c1"># Import Numpy for data statistical analysis 
</span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span> <span class="c1"># Import matplotlib for data visualisation
</span><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="n">sns</span>
<span class="kn">from</span> <span class="nn">fbprophet</span> <span class="kn">import</span> <span class="n">Prophet</span>

</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">avocado_df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'avocado.csv'</span><span class="p">)</span>

</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ë‚ ì§œë³„ ì•„ë³´ì¹´ë„ ê°€ê²©ë¶„í¬ Avocado price distribution by date
</span><span class="n">avocado_df</span> <span class="o">=</span> <span class="n">avocado_df</span><span class="p">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s">"Date"</span><span class="p">)</span> <span class="c1"># ì‹œê°„ ìˆœìœ¼ë¡œ ì •ë ¬ order by time
</span><span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">avocado_df</span><span class="p">[</span><span class="s">'Date'</span><span class="p">],</span> <span class="n">avocado_df</span><span class="p">[</span><span class="s">'AveragePrice'</span><span class="p">])</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/39285147/180627643-4643c6bd-53b8-4c99-b2b3-72be82c8e849.png" alt="image" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ì§€ì—­ë³„ ì•„ë³´ì¹´ë„ ê°€ê²©ë¶„í¬ Avocado Price Distribution by Region
</span><span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">25</span><span class="p">,</span><span class="mi">12</span><span class="p">])</span>
<span class="n">sns</span><span class="p">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">'region'</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">avocado_df</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span> <span class="o">=</span> <span class="mi">45</span><span class="p">)</span>

</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/39285147/180627663-1f2a671d-918e-407c-ae38-7324e92e2f50.png" alt="image" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ì—°ë„ë³„ ì•„ë³´ì¹´ë„ ê°€ê²©ë¶„í¬ Avocado Price Distribution by Year
</span><span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">[</span><span class="mi">25</span><span class="p">,</span><span class="mi">12</span><span class="p">])</span>
<span class="n">sns</span><span class="p">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s">'year'</span><span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">avocado_df</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span> <span class="o">=</span> <span class="mi">45</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/39285147/180627690-5098e10e-886c-4557-948e-f31b670aedac.png" alt="image" /></p>

<h2 id="prediction-1">Prediction</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">avocado_prophet_df</span> <span class="o">=</span> <span class="n">avocado_df</span><span class="p">[[</span><span class="s">'Date'</span><span class="p">,</span> <span class="s">'AveragePrice'</span><span class="p">]]</span> <span class="c1"># Prophetì— í•„ìš”í•œ ì—´ë§Œ ì¶”ì¶œ Extracting only the columns needed by Prophet
</span><span class="n">avocado_prophet_df</span> <span class="o">=</span> <span class="n">avocado_prophet_df</span><span class="p">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s">'Date'</span><span class="p">:</span><span class="s">'ds'</span><span class="p">,</span> <span class="s">'AveragePrice'</span><span class="p">:</span><span class="s">'y'</span><span class="p">})</span> <span class="c1"># Prophet ì—´ì´ë¦„ ì‚¬ì „ì„¤ì • Prophet column name presets
</span>
<span class="n">avocado_prophet_df</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/39285147/180627737-38939649-e27b-4405-8db4-f6eef7244366.png" alt="image" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Applying the Prophet
</span><span class="n">m</span> <span class="o">=</span> <span class="n">Prophet</span><span class="p">()</span>
<span class="n">m</span><span class="p">.</span><span class="n">fit</span><span class="p">(</span><span class="n">avocado_prophet_df</span><span class="p">)</span>

<span class="c1"># Forcasting into the future
</span><span class="n">future</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">make_future_dataframe</span><span class="p">(</span><span class="n">periods</span><span class="o">=</span><span class="mi">365</span><span class="p">)</span> <span class="c1"># ë¯¸ë˜ 1ë…„ ë™ì•ˆì˜ ì•„ë³´ì¹´ë„ ê°€ê²© ì˜ˆì¸¡ Avocado Price Prediction for the Future Year
</span><span class="n">forecast</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">predict</span><span class="p">(</span><span class="n">future</span><span class="p">)</span>

<span class="n">figure</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">forecast</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s">'Date'</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s">'Price'</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/39285147/180627774-0e9170c5-caf9-4068-be02-cdb9c81f6bee.png" alt="image" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">figure3</span> <span class="o">=</span> <span class="n">m</span><span class="p">.</span><span class="n">plot_components</span><span class="p">(</span><span class="n">forecast</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/39285147/180627779-8ad49295-3efa-4aa8-ba02-8587bb0ffdc1.png" alt="image" /></p>

:ET